!function(n){function o(t){var i=this;if(this.$el=n(t),this.images=this.$el.data("images"),this.config=this.$el.data("config"),0!=this.config&&this.config){var o=jQuery.map(this.images,function(t){return{src:t.src,opts:{caption:t.opts.caption,thumb:t.opts.thumb,image_id:t.opts.image_id}}});this.config.lightboxOpts.beforeLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_load",[i,this])},this.config.lightboxOpts.afterLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_load",[i,this])},this.config.lightboxOpts.beforeShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_show",[i,this])},this.config.lightboxOpts.afterShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_show",[i,this])},this.config.lightboxOpts.beforeClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_close",[i,this])},this.config.lightboxOpts.afterClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_close",[i,this])},this.config.lightboxOpts.onInit=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_init",[i,this])},this.config.lightboxOpts.onActivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_activate",[i,this])},this.config.lightboxOpts.onDeactivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_deactivate",[i,this])},this.$el.click(function(t){t.preventDefault(),void 0!==n.modulaFancybox&&n.modulaFancybox.open(o,i.config.lightboxOpts)}),n(document).trigger("modula_link_api_after_init",[i])}}o.prototype.open=function(t){void 0!==n.modulaFancybox&&n.modulaFancybox.open(this.images,this.config.lightboxOpts,t)},jQuery(document).ready(function(t){var i=t(".modula-link");t.each(i,function(){new o(this)})})}(jQuery);